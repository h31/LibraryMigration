digraph G {
{{#machines}}
    subgraph cluster{{num}} {
    label = <<B>{{name}}</B>>;
    {{#vertices}}
        {{id}} [ label="{{label}}" {{#init}}, style = invis{{/init}} ];
    {{/vertices}}
    {{#virtuals}}
        virtual{{counter}} [ shape = point ];
    {{/virtuals}}
    }
{{/machines}}
{{#edges}}
    {{#linkedEdge}}
        {{src}} -> virtual{{counter}} [ label="{{edge}}" {{#visited}}, color = red{{/visited}} ];
        virtual{{counter}} -> {{dst}} {{#visited}} [color = red] {{/visited}};
        virtual{{counter}} -> {{machine}} [ label="{{linkedEdge}}" {{#linkedVisited}}, color = red{{/linkedVisited}} ];
    {{/linkedEdge}}
    {{^linkedEdge}}
        {{src}} -> {{dst}} [ label="{{edge}}" {{#visited}}, color = red{{/visited}} ];
    {{/linkedEdge}}
{{/edges}}
}